"use strict";(self.webpackChunkmeme_generator=self.webpackChunkmeme_generator||[]).push([[158],{158:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var s=n(885),r=n(214),a=n(861),c=n(791),l=n(184);function i(e){var t=e.children,n=e.className,s=void 0===n?"":n,r=e.clickHandler;return(0,l.jsx)("button",{className:"glowing-button "+s,onClick:r,children:t})}var m=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.imgflip.com/get_memes");case 2:return e.next=4,e.sent.json();case 4:if((t=e.sent).success){e.next=7;break}throw Error("Couldn't access api.imgflip.com !");case 7:return e.abrupt("return",t.data.memes);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function u(e){var t=e.chooseMemesHandler,n=e.closeMenuHandler,r=(0,c.useState)([]),a=(0,s.Z)(r,2),u=a[0],o=a[1],d=(0,c.useState)(9),h=(0,s.Z)(d,2),p=h[0],f=h[1];(0,c.useEffect)((function(){var e=!1;return m().then((function(t){return!e&&o(t)})),function(){return e=!0}}),[]);var x=u.slice(0,p).map((function(e,n){return(0,l.jsxs)("figure",{className:"template-menu__meme",children:[(0,l.jsx)("figcaption",{className:"template-menu__caption",children:e.name}),(0,l.jsx)("img",{src:e.url,alt:"meme",className:"template-menu__img"}),(0,l.jsx)(i,{className:"template-menu__choose-meme-btn",clickHandler:function(){return t(e)},children:"USE THIS TEMPLATE"})]},n)}));return(0,l.jsxs)("div",{className:"template-menu",onScroll:function(e){100!==p&&(e.target.scrollHeight-e.target.scrollTop-e.target.getBoundingClientRect().height<200&&f((function(e){return e+9<100?e+9:100})))},children:[(0,l.jsxs)("div",{className:"template-menu__header",children:[(0,l.jsx)("h2",{className:"template-menu__title",children:"Select meme template"}),(0,l.jsx)("button",{className:"template-menu__close-menu",onClick:n,children:"\xd7"})]}),(0,l.jsx)("div",{className:"template-menu__meme-container",children:0!==u.length?x:(0,l.jsx)("div",{className:"template-menu__loading",children:(0,l.jsxs)("div",{className:"lds-roller",children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{})]})})})]})}}}]);
//# sourceMappingURL=158.78b9369a.chunk.js.map